@model clan_system.Models.ViewModels.LandingPageViewModel
@{
    ViewData["Title"] = "Home page";
}

<br />
<div class="row">
    <div class="col-4 offset-4">
        You are a part of @Model.clan.Name
    </div>
    <div class="col-4">
        <button class="btn btn-primary btn-lg" style="margin-left:30px" id="leave-btn" 
                data-clanname="@Model.clan.Name">Leave Clan</button>
    </div>
</div>
<br />
<br />
Point: @Model.clan.Points
<br />
<br />
<div class="row">
    <div class="col-4">
        <div class="form-group">
            <input type="text" class="form-control" />
            <button class="btn btn-primary btn-block">Add Points</button>
        </div>
    </div>
    <div class="col-4">
        <div class="form-group">
            <input type="text" class="form-control" />
            <button class="btn btn-primary btn-block">Subtract Points</button>
        </div>
    </div>
    <div class="col-4">
        <div class="form-group">
            <input type="text" class="form-control" />
            <button class="btn btn-primary btn-block">Set Points</button>
        </div>
    </div>
</div>

<br />
<br />
<br />
<span>
    <button class="btn btn-primary btn-lg">Show Current Contributions</button>
</span>
<br />
<br />
<br />
<div class="container text-right">
    Logged in as @Model.LoggedUserName
</div>

<script>
    $(document).ready(function () {
        $("#leave-btn").click(function () {
            var clanName = $(this).data("clanname");

            $.ajax({
                type: "POST",
                url: "/Clan/LeaveClan",
                data: {
                    "clanName": clanName
                },
                success: function (response) {
                    location.reload();
                },
                error: function (xhr) {
                    console.log(xhr);
                },
            })
        });
    });
</script>
